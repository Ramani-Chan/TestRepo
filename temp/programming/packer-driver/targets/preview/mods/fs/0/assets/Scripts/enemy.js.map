{"version":3,"sources":["file:///D:/Cocos/Projects/NewProject_1/assets/Scripts/enemy.ts"],"names":["_decorator","Component","Collider2D","Contact2DType","game","ccclass","property","enemy","onTouch","selfCollider","otherCollider","colType","tag","name","node","parent","getChildByName","getComponent","minusLife","destroy","addScore","e","stepDown","schedule","setPosition","position","x","y","onLoad","start","update","deltaTime","collision","on","BEGIN_CONTACT"],"mappings":";;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiEC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,a,OAAAA,a;;AACzFC,MAAAA,I,iBAAAA,I;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;uBAGaO,K,WADZF,OAAO,CAAC,OAAD,C,gBAAR,MACaE,KADb,SAC2BN,SAD3B,CACqC;AAGjCO,QAAAA,OAAO,CAACC,YAAD,EAA2BC,aAA3B,EAAsDC,OAAtD,EAAkF;AAErF,cAAID,aAAa,CAACE,GAAd,IAAqB,CAAzB,EAA4B;AACxB,gBAAI;AAEA,kBAAIF,aAAa,CAACG,IAAd,IAAsB,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,cAAjB,CAAgC,QAAhC,EAA0CC,YAA1C,CAAuDf,UAAvD,EAAmEW,IAA7F,EAAmG;AAC/F,qBAAKC,IAAL,CAAUC,MAAV,CAAiBE,YAAjB;AAAA;AAAA,kCAAoCC,SAApC;AACA,qBAAKJ,IAAL,CAAUK,OAAV;AACH,eAHD,MAKK,IAAIT,aAAa,CAACG,IAAd,IAAsB,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,cAAjB,CAAgC,QAAhC,EAA0CC,YAA1C,CAAuDf,UAAvD,EAAmEW,IAA7F,EAAkG;AACnG,qBAAKC,IAAL,CAAUC,MAAV,CAAiBE,YAAjB;AAAA;AAAA,kCAAoCG,QAApC;AACA,qBAAKN,IAAL,CAAUK,OAAV;AACH;AACJ,aAXD,CAYA,OAAOE,CAAP,EAAU,CAAG;AACZ;AACJ,SApB4B,CAsB7B;AAEA;AACA;AAEA;AACA;AACA;;;AAEJC,QAAAA,QAAQ,GAAG;AAEP,eAAKC,QAAL,CAAc,YAAY;AAElB,iBAAKT,IAAL,CAAUU,WAAV,CAAsB,KAAKV,IAAL,CAAUW,QAAV,CAAmBC,CAAzC,EAA4C,KAAKZ,IAAL,CAAUW,QAAV,CAAmBE,CAAnB,GAAuB,EAAnE,EAAuE,CAAvE;AAEP,WAJD,EAIG,CAJH,EAFO,CAQH;AAEP;;AAEDC,QAAAA,MAAM,GAAG;AAEL,eAAKN,QAAL;AAEH;;AAEDO,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAIC,SAAS,GAAG,KAAKf,YAAL,CAAkBf,UAAlB,CAAhB;;AACA,cAAI8B,SAAJ,EAAe;AACXA,YAAAA,SAAS,CAACC,EAAV,CAAa9B,aAAa,CAAC+B,aAA3B,EAA0C,KAAK1B,OAA/C,EAAwD,IAAxD;AACH;AACJ;;AA1DgC,O;AA6DrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node, tween, Tween, Vec3, ComponentModifier, CCClass, Collider2D, Contact2DType, ICollisionEvent, PolygonCollider2D, IPhysics2DContact, RigidBody2D, Label, CCLoader, Scene, director, ECollider2DType } from 'cc';\nimport { game } from './game';\r\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = enemy\n * DateTime = Tue Jan 18 2022 20:44:58 GMT+0530 (India Standard Time)\n * Author = Vengayam\n * FileBasename = enemy.ts\n * FileBasenameNoExtension = enemy\n * URL = db://assets/Scripts/enemy.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n \n@ccclass('enemy')\nexport class enemy extends Component {\n    \n\n    onTouch(selfCollider: Collider2D, otherCollider: Collider2D, colType: IPhysics2DContact) {\n       \n        if (otherCollider.tag == 1) {\n            try {\n\n                if (otherCollider.name == this.node.parent.getChildByName('player').getComponent(Collider2D).name) {\n                    this.node.parent.getComponent(game).minusLife();\n                    this.node.destroy();\n                }\n\n                else if (otherCollider.name == this.node.parent.getChildByName('bullet').getComponent(Collider2D).name){\n                    this.node.parent.getComponent(game).addScore();\r\n                    this.node.destroy();\n                }\r\n            }\r\n            catch (e) { }\r\n            }\r\n        }\n\n        //if (otherCollider.tag == 3) {\n\n        //    try {\r\n        //        this.node.destroy();\n\n        //    }\r\n        //    catch (e) { }\r\n        //}\n    \n    stepDown() {\n\n        this.schedule(function () {\n            \n                this.node.setPosition(this.node.position.x, this.node.position.y - 10, 0);\r\n           \r\n        }, 1);\n\n            //tween(this.node).to(19, { position: new Vec3(this.node.position.x, - 250, 0) }).start();\n        \n    }\n\n    onLoad() {\n        \n        this.stepDown();\n        \n    }\n\n    start() {\n        \n    }\n\n    update(deltaTime: number) {\n        var collision = this.getComponent(Collider2D);\n        if (collision) {\n            collision.on(Contact2DType.BEGIN_CONTACT, this.onTouch, this);\n        }\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}